PROTO_0:
  NEWTABLE R3 4 0
  GETUPVAL R4 0
  FASTCALL2 SETMETATABLE R3 R4 [+3]
  GETIMPORT R2 K1 [setmetatable]
  CALL R2 2 1
  SETTABLEKS R0 R2 K2 ["f"]
  SETTABLEKS R1 R2 K3 ["p"]
  MULK R3 R1 K4 [0]
  SETTABLEKS R3 R2 K5 ["v"]
  RETURN R2 1

PROTO_1:
  GETTABLEKS R5 R0 K2 ["f"]
  MULK R4 R5 K1 [2]
  MULK R3 R4 K0 [3.14159265358979]
  GETTABLEKS R4 R0 K3 ["p"]
  GETTABLEKS R5 R0 K4 ["v"]
  SUB R6 R2 R4
  MINUS R9 R3
  MUL R8 R9 R1
  FASTCALL1 MATH_EXP R8 [+1]
  GETUPVAL R7 0
  CALL R7 1 1
  MUL R11 R5 R1
  MUL R14 R3 R1
  ADDK R13 R14 K5 [1]
  MUL R12 R6 R13
  SUB R10 R11 R12
  MUL R9 R10 R7
  ADD R8 R2 R9
  MUL R12 R3 R1
  MUL R14 R6 R3
  SUB R13 R14 R5
  MUL R11 R12 R13
  ADD R10 R11 R5
  MUL R9 R10 R7
  SETTABLEKS R8 R0 K3 ["p"]
  SETTABLEKS R9 R0 K4 ["v"]
  RETURN R8 1

PROTO_2:
  SETTABLEKS R1 R0 K0 ["p"]
  MULK R2 R1 K1 [0]
  SETTABLEKS R2 R0 K2 ["v"]
  RETURN R0 0

MAIN:
  PREPVARARGS 0
  GETIMPORT R0 K2 [math.exp]
  NEWTABLE R1 4 0
  SETTABLEKS R1 R1 K3 ["__index"]
  DUPCLOSURE R2 K4 [PROTO_0]
  CAPTURE VAL R1
  SETTABLEKS R2 R1 K5 ["new"]
  DUPCLOSURE R2 K6 [PROTO_1]
  CAPTURE VAL R0
  SETTABLEKS R2 R1 K7 ["update"]
  DUPCLOSURE R2 K8 [PROTO_2]
  SETTABLEKS R2 R1 K9 ["reset"]
  RETURN R1 1
